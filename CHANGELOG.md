### Changelog

All notable changes to this project will be documented in this file. Dates are displayed in UTC.

Generated by [`auto-changelog`](https://github.com/CookPete/auto-changelog).

#### [v5.1.0](https://github.com/pagopa/io-functions-commons/compare/v5.0.0...v5.1.0)

> 23 March 2020

- [#171922081] Add service user email to CreatedMessageEvent [`#58`](https://github.com/pagopa/io-functions-commons/pull/58)
- [#171922081] Add service user email to CreatedMessageEvent (#58) [`#171922081`](https://www.pivotaltracker.com/story/show/171922081)

### [v5.0.0](https://github.com/pagopa/io-functions-commons/compare/v4.2.0...v5.0.0)

> 23 March 2020

- chore: release 5.0.0 [`c1bce6a`](https://github.com/pagopa/io-functions-commons/commit/c1bce6aeedc5e46f4e8379f2a62cd6849b958647)

#### [v4.2.0](https://github.com/pagopa/io-functions-commons/compare/v4.1.0...v4.2.0)

> 23 March 2020

- chore: release 4.2.0 [`dbb74dd`](https://github.com/pagopa/io-functions-commons/commit/dbb74dd2b54f2e9101997133ffeeab027b42c71a)

#### [v4.1.0](https://github.com/pagopa/io-functions-commons/compare/v4.0.1...v4.1.0)

> 23 March 2020

- [#171665362] add azure pipeline files [`#57`](https://github.com/pagopa/io-functions-commons/pull/57)
- [#171549167] Fix typo for ApiUserAdmin value in UserGroup enum [`#55`](https://github.com/pagopa/io-functions-commons/pull/55)
- [#171665362] add azure pipeline files (#57) [`#171665362`](https://www.pivotaltracker.com/story/show/171665362)
- [#171549167] Fix typo for ApiUserAdmin value in UserGroup enum (#55) [`#171549167`](https://www.pivotaltracker.com/story/show/171549167)
- chore: release 4.1.0 [`8d03a19`](https://github.com/pagopa/io-functions-commons/commit/8d03a19f0212dd2f301b295fb306b9bee2c3c893)
- Added persistCredentials [`d0f2e54`](https://github.com/pagopa/io-functions-commons/commit/d0f2e5484c80fb4c39ec15dee2101bfa5a2cbe87)

#### [v4.0.1](https://github.com/pagopa/io-functions-commons/compare/v4.0.0...v4.0.1)

> 9 March 2020

- [#171684904] fix visible service type [`#54`](https://github.com/pagopa/io-functions-commons/pull/54)
- [#171684904] fix visible service type (#54) [`#171684904`](https://www.pivotaltracker.com/story/show/171684904)
- chore: release 4.0.1 [`c85acf3`](https://github.com/pagopa/io-functions-commons/commit/c85acf3f33de60d9e5fd82c7924d171e1a579f82)

### [v4.0.0](https://github.com/pagopa/io-functions-commons/compare/v3.0.0...v4.0.0)

> 9 March 2020

- [#171684904] add requireSecureChannels to visible services [`#53`](https://github.com/pagopa/io-functions-commons/pull/53)
- [#171688229] add defaults for isEmailEnabled / isEmailValidated [`#52`](https://github.com/pagopa/io-functions-commons/pull/52)
- [#171684904] add requireSecureChannels to visible services (#53) [`#171684904`](https://www.pivotaltracker.com/story/show/171684904)
- [#171688229] add defaults for isEmailEnabled / isEmailValidated (#52) [`#171688229`](https://www.pivotaltracker.com/story/show/171688229)
- chore: release 4.0.0 [`94eb2bc`](https://github.com/pagopa/io-functions-commons/commit/94eb2bcfb505f46fd19729024e83c0a95298596b)

### [v3.0.0](https://github.com/pagopa/io-functions-commons/compare/v1.12.1...v3.0.0)

> 5 March 2020

- [#171211343]-user data processing api [`#51`](https://github.com/pagopa/io-functions-commons/pull/51)
-   [#171550793] BREAKING CHANGE: deleted key groups [`#50`](https://github.com/pagopa/io-functions-commons/pull/50)
- [#171211343]-user data processing api (#51) [`#171211343`](https://www.pivotaltracker.com/story/show/171211343)
-   [#171550793] BREAKING CHANGE: deleted key groups (#50) [`#171550793`](https://www.pivotaltracker.com/story/show/171550793)
- chore: release 3.0.0 [`031ef52`](https://github.com/pagopa/io-functions-commons/commit/031ef52630801fb0d4296804c60f3002bc3cb857)

#### [v1.12.1](https://github.com/pagopa/io-functions-commons/compare/v1.12.0...v1.12.1)

> 28 February 2020

- [#171211343] - user data processing api [`#49`](https://github.com/pagopa/io-functions-commons/pull/49)
- [#171211343] - user data processing api (#49) [`#171211343`](https://www.pivotaltracker.com/story/show/171211343)
- chore: release 1.12.1 [`a194cba`](https://github.com/pagopa/io-functions-commons/commit/a194cbadfa32cfa2ba450a17ea04d4b0ef93c1b3)

#### [v1.12.0](https://github.com/pagopa/io-functions-commons/compare/v1.11.0...v1.12.0)

> 25 February 2020

- add middleware to extract body payload [`de95334`](https://github.com/pagopa/io-functions-commons/commit/de95334c72de1a6ba254c2b56d26da5422b06461)
- chore: release 1.12.0 [`41ef69e`](https://github.com/pagopa/io-functions-commons/commit/41ef69e10652a51c4e07f04184884c75efbe7fc7)

#### [v1.11.0](https://github.com/pagopa/io-functions-commons/compare/v1.10.0...v1.11.0)

> 24 February 2020

- [#171405467,#170129433] Add user group to list and read users [`#47`](https://github.com/pagopa/io-functions-commons/pull/47)
- chore: release 1.11.0 [`92577f6`](https://github.com/pagopa/io-functions-commons/commit/92577f61763948fbaf5897688524b2f3f0775130)

#### [v1.10.0](https://github.com/pagopa/io-functions-commons/compare/v1.9.0...v1.10.0)

> 24 February 2020

- [#171211343] User data processing api [`#46`](https://github.com/pagopa/io-functions-commons/pull/46)
- Bump handlebars from 4.1.2 to 4.5.3 [`#41`](https://github.com/pagopa/io-functions-commons/pull/41)
- [#171211343] User data processing api (#46) [`#171211343`](https://www.pivotaltracker.com/story/show/171211343)
- chore: release 1.10.0 [`0d46fe1`](https://github.com/pagopa/io-functions-commons/commit/0d46fe173775cd99ebada99166fd42036e5b4a43)

#### [v1.9.0](https://github.com/pagopa/io-functions-commons/compare/v1.8.0...v1.9.0)

> 20 February 2020

- [#170129433] Add user groups to list services, read api keys, write api keys [`#45`](https://github.com/pagopa/io-functions-commons/pull/45)
- [#170129433] Add user groups to list services, read api keys, write api keys (#45) [`#170129433`](https://www.pivotaltracker.com/story/show/170129433)
- chore: release 1.9.0 [`eb32c5c`](https://github.com/pagopa/io-functions-commons/commit/eb32c5c7b2241ef0ed88fafa4c097529c91376ac)
- fix npm publishing [`264afe1`](https://github.com/pagopa/io-functions-commons/commit/264afe15e6bba0dd8f252b60fa500997ef0a3d27)
- fix npm publish [`ed31a89`](https://github.com/pagopa/io-functions-commons/commit/ed31a89ea0d29d69c6348ac2d75d4ba5f0c3e1e3)

#### [v1.8.0](https://github.com/pagopa/io-functions-commons/compare/v1.7.0...v1.8.0)

> 11 February 2020

- [#171211769] adds release it [`#44`](https://github.com/pagopa/io-functions-commons/pull/44)
- [#170127598] Add ServiceMetadata to VisibleService model [`#43`](https://github.com/pagopa/io-functions-commons/pull/43)
- [#170127598] extended service model [`#42`](https://github.com/pagopa/io-functions-commons/pull/42)
- [#171211769] adds release it (#44) [`#171211769`](https://www.pivotaltracker.com/story/show/171211769)
- [#170127598] Add ServiceMetadata to VisibleService model (#43) [`#170127598`](https://www.pivotaltracker.com/story/show/170127598)
- [#170127598] extended service model (#42) [`#170127598`](https://www.pivotaltracker.com/story/show/170127598)
- chore: release 1.8.0 [`0d74e34`](https://github.com/pagopa/io-functions-commons/commit/0d74e34cb6bd2c0d77444147a9e273c7182275a4)

#### [v1.7.0](https://github.com/pagopa/io-functions-commons/compare/v1.6.1...v1.7.0)

> 18 December 2019

- [#170333232] Add MessageContent blob without attachment [`#40`](https://github.com/pagopa/io-functions-commons/pull/40)
- [#170333232] Add MessageContent blob without attachment (#40) [`#170333232`](https://www.pivotaltracker.com/story/show/170333232) [`#170333232`](https://www.pivotaltracker.com/story/show/170333232) [`#170333232`](https://www.pivotaltracker.com/story/show/170333232) [`#170333232`](https://www.pivotaltracker.com/story/show/170333232)

#### [v1.6.1](https://github.com/pagopa/io-functions-commons/compare/v1.6.0...v1.6.1)

> 27 November 2019

- [#169994495] Reuse BlockedInboxOrChannels in Profile model [`#39`](https://github.com/pagopa/io-functions-commons/pull/39)
- [#169994495] Reuse BlockedInboxOrChannels in Profile model (#39) [`#169994495`](https://www.pivotaltracker.com/story/show/169994495)

#### [v1.6.0](https://github.com/pagopa/io-functions-commons/compare/v1.5.0...v1.6.0)

> 15 November 2019

- [#169781722] Remove default values from Profile properties [`#38`](https://github.com/pagopa/io-functions-commons/pull/38)
- [#169781722] Remove default values from Profile properties (#38) [`#169781722`](https://www.pivotaltracker.com/story/show/169781722)
- Update CODEOWNERS [`1de1220`](https://github.com/pagopa/io-functions-commons/commit/1de1220344590fc6a50edefa7973b7af6507c47e)

#### [v1.5.0](https://github.com/pagopa/io-functions-commons/compare/v1.4.2...v1.5.0)

> 11 November 2019

- [#169674172] Add available_notification_channels to ServicePublic [`#37`](https://github.com/pagopa/io-functions-commons/pull/37)
- [#169618054] Fix PaymentAmount description [`#36`](https://github.com/pagopa/io-functions-commons/pull/36)
- [#169674172] Add available_notification_channels to ServicePublic (#37) [`#169674172`](https://www.pivotaltracker.com/story/show/169674172)
- [#169618054] Fix PaymentAmount description (#36) [`#169618054`](https://www.pivotaltracker.com/story/show/169618054)

#### [v1.4.2](https://github.com/pagopa/io-functions-commons/compare/v1.4.1...v1.4.2)

> 6 November 2019

- [#169589413] Email related functions and templates [`#35`](https://github.com/pagopa/io-functions-commons/pull/35)
- [#169589413] Email related functions and templates (#35) [`#169589413`](https://www.pivotaltracker.com/story/show/169589413)

#### [v1.4.1](https://github.com/pagopa/io-functions-commons/compare/v1.4.0...v1.4.1)

> 5 November 2019

- [#168821506] Add ValidationToken entity [`#34`](https://github.com/pagopa/io-functions-commons/pull/34)
- [#168821506] Add ValidationToken entity (#34) [`#168821506`](https://www.pivotaltracker.com/story/show/168821506)

#### [v1.4.0](https://github.com/pagopa/io-functions-commons/compare/v1.3.0...v1.4.0)

> 30 October 2019

- [#168821506] Profile with is_email_validated field [`#33`](https://github.com/pagopa/io-functions-commons/pull/33)
- [#168821506] Profile with is_email_validated field (#33) [`#168821506`](https://www.pivotaltracker.com/story/show/168821506)

#### [v1.3.0](https://github.com/pagopa/io-functions-commons/compare/v1.2.0...v1.3.0)

> 1 October 2019

- [#168830930] Add ApiDevelopmentProfileWrite [`#30`](https://github.com/pagopa/io-functions-commons/pull/30)
- [#168830930] Add ApiDevelopmentProfileWrite (#30) [`#168830930`](https://www.pivotaltracker.com/story/show/168830930)

#### [v1.2.0](https://github.com/pagopa/io-functions-commons/compare/v1.1.0...v1.2.0)

> 30 September 2019

- [#168830930] Add SandboxFiscalCode definition and middleware [`#29`](https://github.com/pagopa/io-functions-commons/pull/29)
- [#168830930] Add SandboxFiscalCode definition and middleware (#29) [`#168830930`](https://www.pivotaltracker.com/story/show/168830930)

#### [v1.1.0](https://github.com/pagopa/io-functions-commons/compare/v1.0.0...v1.1.0)

> 25 September 2019

- [#166816802] Add require_secure_channels property to Service [`#28`](https://github.com/pagopa/io-functions-commons/pull/28)
- [#166816802] Add require_secure_channels property to Service (#28) [`#166816802`](https://www.pivotaltracker.com/story/show/166816802)

### [v1.0.0](https://github.com/pagopa/io-functions-commons/compare/v0.6.5...v1.0.0)

> 25 September 2019

- [#168104305] Upgrade tsc target to es2018 [`#27`](https://github.com/pagopa/io-functions-commons/pull/27)
- [#168104305] Upgrade tsc target to es2018 (#27) [`#168104305`](https://www.pivotaltracker.com/story/show/168104305)

#### [v0.6.5](https://github.com/pagopa/io-functions-commons/compare/v0.6.4...v0.6.5)

> 18 September 2019

- Allow options in upsertBlob* functions [`#26`](https://github.com/pagopa/io-functions-commons/pull/26)

#### [v0.6.4](https://github.com/pagopa/io-functions-commons/compare/v0.6.3...v0.6.4)

> 16 September 2019

- Allow options in acquireLease/releaseLease functions [`#25`](https://github.com/pagopa/io-functions-commons/pull/25)

#### [v0.6.3](https://github.com/pagopa/io-functions-commons/compare/v0.6.2...v0.6.3)

> 16 September 2019

#### [v0.6.2](https://github.com/pagopa/io-functions-commons/compare/v0.6.1...v0.6.2)

> 16 September 2019

- Allow options in getBlob* functions [`#24`](https://github.com/pagopa/io-functions-commons/pull/24)

#### [v0.6.1](https://github.com/pagopa/io-functions-commons/compare/v0.6.0...v0.6.1)

> 16 September 2019

- Add OptionalParamMiddleware and allow to specify fiscal_code in NewMessage [`#23`](https://github.com/pagopa/io-functions-commons/pull/23)

#### [v0.6.0](https://github.com/pagopa/io-functions-commons/compare/v0.5.3...v0.6.0)

> 16 September 2019

- Return None on BlobNotFound [`#22`](https://github.com/pagopa/io-functions-commons/pull/22)

#### [v0.5.3](https://github.com/pagopa/io-functions-commons/compare/v0.5.2...v0.5.3)

> 13 September 2019

#### [v0.5.2](https://github.com/pagopa/io-functions-commons/compare/v0.5.1...v0.5.2)

> 12 September 2019

- Add acquireLease and releaseLease functions to azure_storage [`#20`](https://github.com/pagopa/io-functions-commons/pull/20)
- Bump mixin-deep from 1.3.1 to 1.3.2 [`#18`](https://github.com/pagopa/io-functions-commons/pull/18)
- Bump lodash from 4.17.11 to 4.17.15 [`#19`](https://github.com/pagopa/io-functions-commons/pull/19)

#### [v0.5.1](https://github.com/pagopa/io-functions-commons/compare/v0.5.0...v0.5.1)

> 6 September 2019

- [#16813321] Adds ApiSubscriptionsFeedRead scope [`#17`](https://github.com/pagopa/io-functions-commons/pull/17)
- Adds linting of openapi specs [`#16`](https://github.com/pagopa/io-functions-commons/pull/16)
- [#16813321] Adds ApiSubscriptionsFeedRead scope (#17) [`#16813321`](https://www.pivotaltracker.com/story/show/16813321)

#### [v0.5.0](https://github.com/pagopa/io-functions-commons/compare/v0.4.1...v0.5.0)

> 26 August 2019

- [#166672376] Adds IsEmailEnabled flag in profile [`#15`](https://github.com/pagopa/io-functions-commons/pull/15)
- [#166672376] Adds IsEmailEnabled flag in profile (#15) [`#166672376`](https://www.pivotaltracker.com/story/show/166672376)

#### [v0.4.1](https://github.com/pagopa/io-functions-commons/compare/v0.4.0...v0.4.1)

> 23 August 2019

- Adds retrievedMessageToPublic [`#14`](https://github.com/pagopa/io-functions-commons/pull/14)

#### [v0.4.0](https://github.com/pagopa/io-functions-commons/compare/v0.3.8...v0.4.0)

> 20 August 2019

- Adds webhook to notification status response [`#13`](https://github.com/pagopa/io-functions-commons/pull/13)

#### [v0.3.8](https://github.com/pagopa/io-functions-commons/compare/v0.3.7...v0.3.8)

> 20 August 2019

- Adds messages helpers [`#12`](https://github.com/pagopa/io-functions-commons/pull/12)

#### [v0.3.7](https://github.com/pagopa/io-functions-commons/compare/v0.3.6...v0.3.7)

> 1 July 2019

- Improves how Winston integrates with Functions logger [`#10`](https://github.com/pagopa/io-functions-commons/pull/10)

#### [v0.3.6](https://github.com/pagopa/io-functions-commons/compare/v0.3.5...v0.3.6)

> 1 July 2019

- Avoid calling context.log after context.done has been called [`#9`](https://github.com/pagopa/io-functions-commons/pull/9)

#### [v0.3.5](https://github.com/pagopa/io-functions-commons/compare/v0.3.4...v0.3.5)

> 27 June 2019

- Export TelemetryClient from ApplicationInsights module [`#8`](https://github.com/pagopa/io-functions-commons/pull/8)

#### [v0.3.4](https://github.com/pagopa/io-functions-commons/compare/v0.3.3...v0.3.4)

> 27 June 2019

- Imports more stuff from digital-citizenship-functions [`#7`](https://github.com/pagopa/io-functions-commons/pull/7)

#### [v0.3.3](https://github.com/pagopa/io-functions-commons/compare/v0.3.2...v0.3.3)

> 27 June 2019

- More imports from digital-citizenship-functions [`#6`](https://github.com/pagopa/io-functions-commons/pull/6)

#### [v0.3.2](https://github.com/pagopa/io-functions-commons/compare/v0.3.1...v0.3.2)

> 24 June 2019

#### [v0.3.1](https://github.com/pagopa/io-functions-commons/compare/v0.3.0...v0.3.1)

> 24 June 2019

- Fixes version of fp-ts [`#5`](https://github.com/pagopa/io-functions-commons/pull/5)

#### [v0.3.0](https://github.com/pagopa/io-functions-commons/compare/v0.2.0...v0.3.0)

> 24 June 2019

- Imports middlewares from digital-citizenship-functions [`#4`](https://github.com/pagopa/io-functions-commons/pull/4)

#### [v0.2.0](https://github.com/pagopa/io-functions-commons/compare/v0.1.0...v0.2.0)

> 11 June 2019

#### [v0.1.0](https://github.com/pagopa/io-functions-commons/compare/v0.0.3...v0.1.0)

> 11 June 2019

- Emit es6 to keep compatibility with Azure functions v1 [`#2`](https://github.com/pagopa/io-functions-commons/pull/2)
- Fixes openapi specs to avoid nesting definitions [`5fce35f`](https://github.com/pagopa/io-functions-commons/commit/5fce35f4d06ed9b3db2da07c328d9b0518505fed)

#### [v0.0.3](https://github.com/pagopa/io-functions-commons/compare/v0.0.2...v0.0.3)

> 10 June 2019

- Prepare for publishing [`d6a56ea`](https://github.com/pagopa/io-functions-commons/commit/d6a56ea511686c85b722611fd4086ec3d9964847)

#### v0.0.2

> 10 June 2019

- Imports common code from digital-citizenship-functions [`#1`](https://github.com/pagopa/io-functions-commons/pull/1)
- Initial commit [`42fe241`](https://github.com/pagopa/io-functions-commons/commit/42fe24160721684844e85dd54616996df7601ea6)
